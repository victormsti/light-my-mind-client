(this["webpackJsonplight-my-mind-client"]=this["webpackJsonplight-my-mind-client"]||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/logo.590825e3.svg"},42:function(e,t,n){e.exports=n(80)},64:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(36),i=n.n(o),c=n(21),l=n(1),s=n(12),u=function(){return null!==localStorage.getItem("token-key")},d=function(){return localStorage.getItem("user-id")},p=function(e){localStorage.setItem("token-key",e)},m=function(){localStorage.removeItem("token-key"),localStorage.removeItem("user-id")},h=function(e){localStorage.setItem("user-id",e)},f=n(3),g=n.n(f),b=n(6),v=n(7),x=n(8),E=n(10),w=n(9),y=n(37),k=n.n(y).a.create({baseURL:"https://light-my-mind-server.herokuapp.com/api"});k.interceptors.request.use(function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=localStorage.getItem("token-key"))&&(t.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var j=k,O=(n(64),function(e){Object(E.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={reminders:[],reminderInfo:{},page:1,userId:d()},e.loadReminders=Object(b.a)(g.a.mark((function t(){var n,r,a,o,i,l,s=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,r=e.state.userId,t.next=4,j.get("/reminders/users/id/".concat(r,"?page=").concat(n));case 4:a=t.sent,o=a.data,i=o.docs,l=Object(c.a)(o,["docs"]),e.setState({reminders:i,reminderInfo:l,page:n});case 7:case"end":return t.stop()}}),t)}))),e.prevPage=function(){var t=e.state.page;if(1!==t){var n=t-1;e.loadReminders(n)}},e.nextPage=function(){var t=e.state,n=t.page;if(n!==t.reminderInfo.pages){var r=n+1;e.loadReminders(r)}},e.deleteReminder=function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.delete("/reminders/".concat(n));case 3:window.location.reload(!1),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.setState({error:t.t0});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.loadReminders()}},{key:"render",value:function(){var e=this,t=this.state,n=t.reminders,r=t.page,o=t.reminderInfo;return a.a.createElement("div",{className:"reminder-list"},a.a.createElement("div",{className:"button-insert"},a.a.createElement(s.b,{to:"/reminders/new-reminder"},"Insert New Reminder")),n.map((function(t){return a.a.createElement("article",{key:t._id},a.a.createElement("strong",null,t.title),a.a.createElement("p",null,t.description),a.a.createElement("div",{id:"actions-button"},a.a.createElement(s.b,{to:"/reminders/".concat(t._id)},"Access"),a.a.createElement("button",{id:"delete-button",onClick:function(n){return e.deleteReminder(t._id)},key:t._id},"Delete")))})),a.a.createElement("div",{className:"actions"},a.a.createElement("button",{disabled:1===r,onClick:this.prevPage},"Previous"),a.a.createElement("button",{disabled:r===o.pages,onClick:this.nextPage},"Next")))}}]),n}(r.Component)),S=n(20),I=n.n(S),C=n(13),A=n(14);function N(){var e=Object(C.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #6b5b95;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n\n  button:hover {\n    cursor: pointer\n  }\n  \n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return N=function(){return e},e}function R(){var e=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return R=function(){return e},e}var P=A.a.div(R()),D=A.a.form(N()),L=function(e){Object(E.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",error:""},e.handleSignIn=function(){var t=Object(b.a)(g.a.mark((function t(n){var r,a,o,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,a=r.email,o=r.password,a&&o){t.next=6;break}e.setState({error:"Fill all inputs to continue"}),t.next=19;break;case 6:return t.prev=6,t.next=9,j.post("/auth",{email:a,password:o});case 9:i=t.sent,p(i.data.token),h(i.data.userId),e.props.history.push("/main"),window.location.reload(!1),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),e.setState({error:"Invalid Login"});case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(P,null,a.a.createElement(D,{onSubmit:this.handleSignIn},a.a.createElement("img",{src:I.a,alt:"logo"}),this.state.error&&a.a.createElement("p",null,this.state.error),a.a.createElement("input",{type:"email",placeholder:"E-mail address",onChange:function(t){return e.setState({email:t.target.value})}}),a.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}}),a.a.createElement("button",{type:"submit"},"Login"),a.a.createElement("hr",null),a.a.createElement(s.b,{to:"/signup"},"SignUp for Free")))}}]),n}(r.Component),z=Object(l.g)(L),M=(n(76),function(e){Object(E.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={error:"",title:"",description:"",period:"",hour:"",userId:d()},e.createReminder=function(){var t=Object(b.a)(g.a.mark((function t(n){var r,a,o,i,c,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,a=r.title,o=r.description,i=r.period,c=r.hour,l=r.userId,a&&o&&i&&c){t.next=6;break}e.setState({error:"Fill all inputs to create a new reminder"}),t.next=16;break;case 6:return t.prev=6,t.next=9,j.post("/reminders",{title:a,description:o,period:i,hour:c,userId:l});case 9:e.props.history.push("/main"),window.location.reload(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),e.setState({error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("form",{onSubmit:this.createReminder},a.a.createElement("div",{className:"reminder-info"},a.a.createElement("h1",null,"New Reminder"),this.state.error&&a.a.createElement("p",{id:"error-msg"},this.state.error),a.a.createElement("br",null),a.a.createElement("p",null,a.a.createElement("strong",null,"Title: "),a.a.createElement("input",{type:"text",placeholder:"Type the title here...",onChange:function(t){return e.setState({title:t.target.value})}})),a.a.createElement("p",null,a.a.createElement("strong",null,"Description: "),a.a.createElement("textarea",{placeholder:"Type a description here...",onChange:function(t){return e.setState({description:t.target.value})}})),a.a.createElement("p",null,a.a.createElement("strong",null,"Period: "),a.a.createElement("input",{type:"text",placeholder:"Daily",onChange:function(t){return e.setState({period:t.target.value})}})),a.a.createElement("p",null,a.a.createElement("strong",null,"Hour of Day: "),a.a.createElement("input",{type:"time",onChange:function(t){return e.setState({hour:t.target.value})}})),a.a.createElement("button",{type:"submit"},"Create")))}}]),n}(r.Component)),U=(n(77),function(e){Object(E.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={reminder:{}},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,j.get("reminders/".concat(t));case 3:n=e.sent,this.setState({reminder:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reminder;return a.a.createElement("div",{className:"reminder-info"},a.a.createElement("h1",null,e.title),a.a.createElement("p",null,e.description),a.a.createElement("p",null,a.a.createElement("strong",null,"Created At:")," ",e.createdAt),a.a.createElement("p",null,a.a.createElement("strong",null,"Period: "),e.period))}}]),n}(r.Component));function F(){var e=Object(C.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #6b5b95;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n\n  button:hover {\n    cursor: pointer\n  }\n  \n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return F=function(){return e},e}function _(){var e=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return _=function(){return e},e}var B=A.a.div(_()),T=A.a.form(F()),J=function(e){Object(E.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",email:"",password:"",error:""},e.handleSignUp=function(){var t=Object(b.a)(g.a.mark((function t(n){var r,a,o,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,a=r.username,o=r.email,i=r.password,a&&o&&i){t.next=6;break}e.setState({error:"Fill all inputs to sign up"}),t.next=20;break;case 6:return t.prev=6,t.next=9,j.post("/users",{username:a,email:o,password:i});case 9:return t.next=11,j.post("/auth",{email:o,password:i});case 11:c=t.sent,p(c.data.token),e.props.history.push("/main"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0),e.setState({error:"An error ocurred"});case 20:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(B,null,a.a.createElement(T,{onSubmit:this.handleSignUp},a.a.createElement("img",{src:I.a,alt:"Airbnb logo"}),this.state.error&&a.a.createElement("p",null,this.state.error),a.a.createElement("input",{type:"text",placeholder:"Username",onChange:function(t){return e.setState({username:t.target.value})}}),a.a.createElement("input",{type:"email",placeholder:"E-mail address",onChange:function(t){return e.setState({email:t.target.value})}}),a.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}}),a.a.createElement("button",{type:"submit"},"SignUp for Free"),a.a.createElement("hr",null),a.a.createElement(s.b,{to:"/"},"Login")))}}]),n}(r.Component),W=Object(l.g)(J),q=function(e){var t=e.component,n=Object(c.a)(e,["component"]);return a.a.createElement(l.b,Object.assign({},n,{render:function(e){return u()?a.a.createElement(t,e):a.a.createElement(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},H=function(){return a.a.createElement(s.a,null,a.a.createElement(l.d,null,a.a.createElement(l.b,{exact:!0,path:"/",component:z}),a.a.createElement(l.b,{path:"/signup",component:W}),a.a.createElement(q,{path:"/main",component:O}),a.a.createElement(q,{path:"/reminders/new-reminder",component:M}),a.a.createElement(q,{path:"/reminders/:id",component:U}),a.a.createElement(l.b,{path:"*",component:function(){return a.a.createElement("h1",null,"Page not found")}})))},$=n(41),G=(n(78),function(e){Object(E.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={loggedIn:!1},e.doLogout=function(){m(),e.setState({loggedIn:!1}),Object($.a)().push("/"),window.location.reload(!1)},e}return Object(x.a)(n,[{key:"render",value:function(){return u()?a.a.createElement("header",null,a.a.createElement("div",{className:"main-header"},"Light My Mind"),a.a.createElement("div",{className:"sair"},a.a.createElement("button",{className:"sair",onClick:this.doLogout},"Logout"))):a.a.createElement("header",null,a.a.createElement("div",{className:"main-header"},"Light My Mind"))}}]),n}(r.Component)),K=(n(79),function(){return a.a.createElement("div",{className:"App"},a.a.createElement(G,null),a.a.createElement(H,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.26ab751a.chunk.js.map